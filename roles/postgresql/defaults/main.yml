---

postgresql_user: postgres
postgresql_group: postgres

postgresql_service:
  state: started
  enabled: true

postgresql_config_connections: {}
postgresql_config_authentication: {}
postgresql_config_autovacuum: {}
postgresql_config_client_connection: {}
postgresql_config_compatibility: {}
postgresql_config_error_handling: {}
postgresql_config_file_locations: {}
postgresql_config_lock_management: {}
postgresql_config_query_tuning: {}
postgresql_config_replication: {}
postgresql_config_reporting: {}
postgresql_config_ressources: {}
postgresql_config_statistics: {}
postgresql_config_write_ahead: {}

postgresql_hba_entries:
  - type: local
    database: all
    user: postgres
    auth_method: peer
  - type: local
    database: all
    user: all
    auth_method: peer
  - type: host
    database: all
    user: all
    address: '127.0.0.1/32'
    auth_method: "{{ postgresql_config_authentication.password_encryption }}"
  - type: host
    database: all
    user: all
    address: '::1/128'
    auth_method: "{{ postgresql_config_authentication.password_encryption }}"
